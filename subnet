provider "azurerm" {
  features {}
}

resource "azurerm_subnet" "example" {
  name                 = "or-pb-m3-stg-app-subnet"
  resource_group_name  = "your-resource-group"  # Replace with your resource group name
  virtual_network_name = "hello-vnet"
  address_prefixes     = ["10.9.39.0/24"]

  network_security_group_id = azurerm_network_security_group.nsg.id
  route_table_id            = azurerm_route_table.route_table.id
}

data "azurerm_network_security_group" "nsg" {
  name                = "or-pb-m3-stg-us-c-vnet-nsg"
  resource_group_name = "your-resource-group"  # Replace with your resource group name
}

data "azurerm_route_table" "route_table" {
  name                = "np-or-pb-m3-stg-c-vnet"
  resource_group_name = "your-resource-group"  # Replace with your resource group name
}

output "subnet_id" {
  value = azurerm_subnet.example.id
}
